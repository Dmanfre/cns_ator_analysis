summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
tenn_url <- "https://utsports.com/sports/womens-basketball/stats/2022-23"
# read in the html and extract all the tables
results <- tenn_url |>
read_html() |>
html_table()
#libraries
library(tidyverse)
library(lubridate)
library(janitor)
library(ggplot2)
#install.packages("ggrepel")
library(ggrepel)
library(rvest)
#Tenn player scrapping. Copied from the 772 book.
tenn_url <- "https://utsports.com/sports/womens-basketball/stats/2022-23"
# read in the html and extract all the tables
results <- tenn_url |>
read_html() |>
html_table()
results <- results[[22]]
tenn_playrs <- results %>%
clean_names()
View(tenn_playrs)
library(cfbfasta)
library(cfbfastR)
install.packages("cfbfastR")
library(cfbfastR)
transfers <- cfbd_recruiting_transfer_portal(2023, 2022, 2021, 2020)
transfers <- cfbd_recruiting_transfer_portal(2023, 2022)
transfers <- cfbd_recruiting_transfer_portal(2023)
View(transfers)
transfers <- cfbd_recruiting_transfer_portal(2022)
View(transfers)
transfers <- cfbd_recruiting_transfer_portal(2020)
transfers <- cfbd_recruiting_transfer_portal(2020)
transfers <- cfbd_recruiting_transfer_portal(2019)
transfers <- cfbd_recruiting_transfer_portal(2019)
transfers <- cfbd_recruiting_transfer_portal(2019)
```{r}
transfers <- cfbd_recruiting_transfer_portal(2018)
transfers <- cfbd_recruiting_transfer_portal(2023)
transfers <- cfbd_recruiting_transfer_portal(2022)
transfers <- cfbd_recruiting_transfer_portal(2021)
transfers <- cfbd_recruiting_transfer_portal(2020)
transfers <- cfbd_recruiting_transfer_portal(2023)
transf %>% filter(is.na(destination))
transfers %>% filter(is.na(destination))
transfers %>%
distinct(eligibility)
transfers %>% filter(!is.na(destination))
transfers <- transfers %>% filter(!is.na(destination))
transfers %>%
group_by(origin) %>%
summarize(numb_transfers = sum(origin))
transfers %>%
group_by(origin) %>%
summarize(numb_transfers = n())
transfers %>%
filter(season == 2023) %>%
group_by(origin) %>%
summarize(numb_transfers = n()) %>%
arrange(desc(numb_transfers))
transfers %>%
filter(transfer_date > "2023-01-01") %>%
group_by(origin) %>%
summarize(numb_transfers = n()) %>%
arrange(desc(numb_transfers))
transfers %>%
filter(transfer_date > "2023-01-01")
transfers %>%
filter(transfer_date > "2023-01-01") %>%
group_by(origin) %>%
summarize(numb_transfers = n()) %>%
arrange(desc(numb_transfers))
transfers %>%
filter(origin == "Maryland") %>%
group_by(origin) %>%
summarize(numb_transfers = n()) %>%
arrange(desc(numb_transfers))
transfers %>%
filter(origin == "Maryland")
transfers <- cfbd_recruiting_transfer_portal(2023)
transfers %>%
filter(origin == "Maryland")
logs18_24 %>%
get_dupes(Date, TeamFull)
view(dupes)
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
library(tidyverse)
library(ggrepel)
library(janitor)
library(tidyverse)
library(ggrepel)
library(janitor)
ator_only %>%
filter(Conference %in% power_5) %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ggplot() +
#geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ggplot() +
geom_point(data = b10, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ggplot() +
geom_point(data = power_5, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
View(season_ator)
umd <- season_ator %>%
filter(TeamFull == "Maryland Terrapins")
View(umd)
logs18_24 <- read.csv("https://thescoop.org/sports-data-files/wbblogs1824.csv")
#62,584 records ovver 2018-present
power_5 <- c("ACC", "Big 12", "Big Ten", "Pac-12", "SEC")
#Getting rid of records where an ator cannot be generated
logs18_24 <- logs18_24 %>%
filter(!is.na(TeamAssists) & !is.na(TeamTurnovers) & !is.na(OpponentAssists) & !is.na(OpponentTurnovers))
dupes <- logs18_24 %>%
get_dupes(Date, TeamFull)
view(dupes)
# changing the dates in the eight dupes
logs18_24$Date <- ifelse(logs18_24$Date == "2019-11-24" & logs18_24$TeamFull == "Oregon Ducks" & logs18_24$Opponent == "Oklahoma State", "2019-11-28",
ifelse(logs18_24$Date == "2018-11-24" & logs18_24$TeamFull == "American Eagles" & logs18_24$Opponent == "Hawaii", "2019-11-23",
ifelse(logs18_24$Date == "2018-11-24" & logs18_24$TeamFull == "Hawaii Rainbow Warriors" & logs18_24$Opponent == "American", "2018-11-23",
ifelse(logs18_24$Date == "2023-01-25" & logs18_24$TeamFull == "Chicago State Cougars" & logs18_24$Opponent == "St. Francis (IL)", "2023-01-24", logs18_24$Date))))
#checking the new dupes
logs18_24 %>%
get_dupes(Date, TeamFull)
view(dupes)
logs18_24 <- logs18_24 %>%
mutate(
winloss = case_when(
grepl("W", W_L) ~ 1,
grepl("L", W_L) ~ 0),
team_ator = (TeamAssists) / (TeamTurnovers),
opp_ator = (OpponentAssists) / (OpponentTurnovers),
pts_diff = TeamScore - OpponentScore)
logs18_24$Conference <- sub(" WBB", "", logs18_24$Conference)
ator_only <- logs18_24 %>%
select(Season, Date, TeamFull, Conference, Opponent, TeamScore, OpponentScore, winloss, pts_diff, TeamAssists, TeamTurnovers, OpponentAssists, OpponentTurnovers, team_ator, opp_ator)
season_ator <- ator_only %>%
group_by(Season, TeamFull, Conference) %>%
summarize(season_team_ator = sum(TeamAssists)/sum(TeamTurnovers),
season_opp_ator = sum(OpponentAssists)/sum(OpponentTurnovers),
total_wins = sum(winloss)
)
ator_only %>%
filter(TeamFull == "Maryland Terrapins")
# To filter for a specific team, inster this: filter(TeamFull == "team_name")
#filtering for the ators I want
p5_teams <- season_ator %>%
filter(Conference %in% power_5, Season == "2022-2023")
b10 <- season_ator %>%
filter(Conference == "Big Ten", Season == "2022-2023")
umd <- season_ator %>%
filter(TeamFull == "Maryland Terrapins")
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ator_only %>%
filter(Conference %in% power_5) %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
View(umd)
View(ator_only)
umd <- ator_only %>%
filter(TeamFull == "Maryland Terrapins")
View(umd)
ator_only %>%
mutate(month = month(gamedate_east)) %>%
group_by(month) %>%
summarise(avg_ator = mean(winning_ator),
avg_opp_ator = mean(losing_ator)) %>%
arrange(desc(avg_ator))
ator_only %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(winning_ator),
avg_opp_ator = mean(losing_ator)) %>%
arrange(desc(avg_ator))
ator_only %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(winning_ator),
avg_opp_ator = mean(losing_ator)) %>%
arrange(desc(avg_ator))
n
ator_only %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator)) %>%
arrange(desc(avg_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator)) %>%
arrange(desc(avg_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator)) %>%
arrange(month)
ator_only %>%
filter(TeamFull == "Maryland Terrapins") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator)) %>%
arrange(desc(month))
ator_only %>%
filter(TeamFull == "Maryland Terrapins") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins", season="2022-23") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins", season="2022-2023") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins", season=="2022-2023") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins", Season=="2022-2023") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
ator_only %>%
filter(TeamFull == "Maryland Terrapins", Season=="2022-2023") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
View(umd)
# December games
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01")
# December games
umd %>%
filter(Season =="2022-2023", Date <= "2022-12-01")
# December games
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01", Date <= "2022-12-31")
# December games
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01", Date <= "2022-12-31") %>%
summarise(dec_ator = sum(TeamAssists)/sum(TeamTurnovers))
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01", Date <= "2022-12-31")
# December games
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01", Date <= "2022-12-31") %>%
summarise(dec_ator = sum(TeamAssists)/sum(TeamTurnovers))
ator_only %>%
filter(TeamFull == "Maryland Terrapins")
library(tidyverse)
library(ggrepel)
library(janitor)
ator_only %>%
filter(TeamFull == "Maryland Terrapins")
View(p5_teams)
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
ator_only %>%
filter(Conference == Big Ten) %>%
ator_only %>%
filter(Conference == "Big Ten") %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
ator_only %>%
filter(TeamFull == "Maryland Terrapins")
season_ator %>%
filter(TeamFull == "Maryland Terrapins")
umd_years <- season_ator %>%
filter(TeamFull == "Maryland Terrapins")
b10_umd_years <- inner_join(b10_years, umd_years, by="Season" )
b10_years <- ator_only %>%
filter(Conference == "Big Ten") %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
b10_umd_years <- inner_join(b10_years, umd_years, by="Season" )
View(b10_umd_years)
b10_umd_years <- b10_umd_years %>% select(-c(Conference.y, season_opp_ator)) rename(Conference = Conference.x)
b10_umd_years <- b10_umd_years %>% select(-c(Conference.y, season_opp_ator)) %>% rename(Conference = Conference.x)
ator_only %>%
filter(TeamFull == "Maryland Terrapins", Season=="2022-2023") %>%
mutate(month = month(Date)) %>%
group_by(month) %>%
summarise(avg_ator = mean(team_ator),
avg_opp_ator = mean(opp_ator))
# December games
umd %>%
filter(Season =="2022-2023", Date >= "2022-12-01", Date <= "2022-12-31") %>%
summarise(dec_ator = sum(TeamAssists)/sum(TeamTurnovers))
# December games
umd %>%
filter(Season =="2022-2023") %>%
group_by(month)
# December games
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month)
# December games
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(dec_ator = sum(TeamAssists)/sum(TeamTurnovers))
# December games
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(month_ator = sum(TeamAssists)/sum(TeamTurnovers))
# Monthly games
umd %>%
mutate(month = month(Date)) %>%
group_by(Season) %>%
summarise(month_ator = sum(TeamAssists)/sum(TeamTurnovers))
# Monthly games
umd %>%
mutate(month = month(Date)) %>%
group_by(Season) %>%
summarise(ator = sum(TeamAssists)/sum(TeamTurnovers))
# Monthly games
umd %>%
group_by(Season) %>%
summarise(ator = sum(TeamAssists)/sum(TeamTurnovers))
# December games
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
# monthly games using aggregate ators
umd_monthly_22_23 <- umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
View(results)
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurno
umd %>%
View(umd_monthly_22_23)
library(tidyverse)
library(ggrepel)
library(janitor)
logs18_24 <- read.csv("https://thescoop.org/sports-data-files/wbblogs1824.csv")
#62,584 records ovver 2018-present
power_5 <- c("ACC", "Big 12", "Big Ten", "Pac-12", "SEC")
#Getting rid of records where an ator cannot be generated
logs18_24 <- logs18_24 %>%
filter(!is.na(TeamAssists) & !is.na(TeamTurnovers) & !is.na(OpponentAssists) & !is.na(OpponentTurnovers))
dupes <- logs18_24 %>%
get_dupes(Date, TeamFull)
view(dupes)
# changing the dates in the eight dupes
logs18_24$Date <- ifelse(logs18_24$Date == "2019-11-24" & logs18_24$TeamFull == "Oregon Ducks" & logs18_24$Opponent == "Oklahoma State", "2019-11-28",
ifelse(logs18_24$Date == "2018-11-24" & logs18_24$TeamFull == "American Eagles" & logs18_24$Opponent == "Hawaii", "2019-11-23",
ifelse(logs18_24$Date == "2018-11-24" & logs18_24$TeamFull == "Hawaii Rainbow Warriors" & logs18_24$Opponent == "American", "2018-11-23",
ifelse(logs18_24$Date == "2023-01-25" & logs18_24$TeamFull == "Chicago State Cougars" & logs18_24$Opponent == "St. Francis (IL)", "2023-01-24", logs18_24$Date))))
#checking the new dupes
logs18_24 %>%
get_dupes(Date, TeamFull)
view(dupes)
logs18_24 <- logs18_24 %>%
mutate(
winloss = case_when(
grepl("W", W_L) ~ 1,
grepl("L", W_L) ~ 0),
team_ator = (TeamAssists) / (TeamTurnovers),
opp_ator = (OpponentAssists) / (OpponentTurnovers),
pts_diff = TeamScore - OpponentScore)
logs18_24$Conference <- sub(" WBB", "", logs18_24$Conference)
ator_only <- logs18_24 %>%
select(Season, Date, TeamFull, Conference, Opponent, TeamScore, OpponentScore, winloss, pts_diff, TeamAssists, TeamTurnovers, OpponentAssists, OpponentTurnovers, team_ator, opp_ator)
season_ator <- ator_only %>%
group_by(Season, TeamFull, Conference) %>%
summarize(season_team_ator = sum(TeamAssists)/sum(TeamTurnovers),
season_opp_ator = sum(OpponentAssists)/sum(OpponentTurnovers),
total_wins = sum(winloss)
)
ator_only %>%
filter(TeamFull == "Maryland Terrapins")
# To filter for a specific team, inster this: filter(TeamFull == "team_name")
#filtering for the ators I want
p5_teams <- season_ator %>%
filter(Conference %in% power_5, Season == "2022-2023")
b10 <- season_ator %>%
filter(Conference == "Big Ten", Season == "2022-2023")
umd <- ator_only %>%
filter(TeamFull == "Maryland Terrapins")
ggplot() +
geom_point(data = p5_teams, aes(x = total_wins, y = season_team_ator))+
geom_text_repel(data = b10, aes(x = total_wins, y = season_team_ator, label = TeamFull))+
labs(x = "Total Wins",
y = "Assist to turnover ratio",
title = "2022-23 seaosn ator",
subtitle = "Shows all p5 ators from last season with b10 teams labeled",
caption = "Source: Sports Reference | Chart by Dylan Manfre")
umd_years <- season_ator %>%
filter(TeamFull == "Maryland Terrapins")
b10_years <- ator_only %>%
filter(Conference == "Big Ten") %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
b10_umd_years <- inner_join(b10_years, umd_years, by="Season")
b10_umd_years <- b10_umd_years %>% select(-c(Conference.y, season_opp_ator)) %>% rename(Conference = Conference.x)
# Maryland's 2022-23 ator by month
umd_monthly_22_23 <- umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(month) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
ator_only %>%
filter(Conference == "Big Ten") %>%
group_by(Season, Conference) %>%
summarise(conf_ator = sum(TeamAssists)/sum(TeamTurnovers))
umd %>%
mutate(month = month(Date)) %>%
filter(Season =="2022-2023") %>%
group_by(Season) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
umd %>%
mutate(month = month(Date)) %>%
#filter(Season =="2022-2023") %>%
group_by(Season) %>%
summarise(monthly_ator = sum(TeamAssists)/sum(TeamTurnovers))
View(b10_umd_years)
